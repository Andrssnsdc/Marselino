

<div class="container">
<button class="cart-button" id="openCart">
    ðŸ›’ Carrito <span class="cart-count" id="cartCount">0</span>
</button>
</div>

<div class="cart-panel" id="cartPanel">
<div class="cart-header">
    <h2>Carrito de Compras</h2>
    <button class="close-cart" id="closeCart">&times;</button>
</div>
<div class="cart-items" id="cartItems"></div>
<div class="cart-total" id="cartTotal">Total: $0.00</div>
<button class="checkout-btn">Proceder al pago</button>
</div>

<div class="overlay" id="overlay"></div>

<div class="alert" id="deleteAlert">
<p>Â¿EstÃ¡s seguro de que quieres eliminar este producto?</p>
<div class="alert-buttons">
    <button class="alert-btn confirm-btn" id="confirmDelete">SÃ­, eliminar</button>
    <button class="alert-btn cancel-btn" id="cancelDelete">Cancelar</button>
</div>
</div>
<style>
    .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.cart-button {
    position: fixed;
    top: 20px;
    right: 20px;
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 9999px;
    cursor: pointer;
    font-size: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
    z-index: 1000;
    transition: background-color 0.3s ease;
}

.cart-button:hover {
    background-color: #2980b9;
}

.cart-count {
    background-color: var(--secondary-color);
    color: white;
    border-radius: 9999px;
    padding: 2px 6px;
    font-size: 12px;
}

.cart-panel {
    position: fixed;
    top: 0;
    right: -400px;
    width: 100%;
    max-width: 400px;
    height: 100%;
    background-color: white;
    box-shadow: -2px 0 5px rgba(0,0,0,0.1);
    transition: right 0.3s ease;
    overflow-y: auto;
    z-index: 1001;
}

.cart-panel.open {
    right: 0;
}

.cart-header {
    background-color: var(--primary-color);
    color: white;
    padding: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.cart-header h2 {
    font-size: 24px;
    font-weight: 600;
}

.close-cart {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
}

.cart-items {
    padding: 20px;
}

.cart-item {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 15px;
}

.item-details {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
}

.item-name {
    font-weight: 600;
    font-size: 18px;
}

.item-price {
    color: var(--primary-color);
    font-weight: 600;
}

.item-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 10px;
}

.quantity-control {
    display: flex;
    align-items: center;
}

.quantity-btn {
    background-color: var(--primary-color);
    color: white;
    border: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: background-color 0.3s ease;
}

.quantity-btn:hover {
    background-color: #2980b9;
}

.quantity {
    margin: 0 10px;
    font-size: 16px;
}

.delete-btn {
    background-color: #e74c3c;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.delete-btn:hover {
    background-color: #c0392b;
}

.cart-total {
    background-color: var(--background-color);
    padding: 20px;
    font-size: 20px;
    font-weight: bold;
    text-align: right;
}

.checkout-btn {
    display: block;
    width: 100%;
    padding: 15px;
    background-color: var(--secondary-color);
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 18px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.checkout-btn:hover {
    background-color: #27ae60;
}

.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    display: none;
    z-index: 999;
}

.alert {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    z-index: 1002;
    display: none;
}

.alert-buttons {
    margin-top: 20px;
    text-align: right;
}

.alert-btn {
    padding: 8px 15px;
    margin-left: 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.confirm-btn {
    background-color: var(--primary-color);
    color: white;
}

.confirm-btn:hover {
    background-color: #2980b9;
}

.cancel-btn {
    background-color: #e74c3c;
    color: white;
}

.cancel-btn:hover {
    background-color: #c0392b;
}

.empty-cart {
    text-align: center;
    padding: 40px 20px;
}

.empty-cart p {
    font-size: 18px;
    color: var(--muted-color);
    margin-bottom: 20px;
}

.add-products-btn {
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.add-products-btn:hover {
    background-color: #2980b9;
}
</style>
<script>
const cartButton = document.getElementById('openCart');
const cartPanel = document.getElementById('cartPanel');
const closeCart = document.getElementById('closeCart');
const cartItems = document.getElementById('cartItems');
const cartTotal = document.getElementById('cartTotal');
const cartCount = document.getElementById('cartCount');
const overlay = document.getElementById('overlay');
const deleteAlert = document.getElementById('deleteAlert');
const confirmDelete = document.getElementById('confirmDelete');
const cancelDelete = document.getElementById('cancelDelete');

let cart = [];

function calculatePrice(product) {
    const basePrice = product.basePrice;
    const customizationPrice = product.customizations * 5;
    const sizeMultiplier = product.size === 'XL' ? 1.2 : 1;
    return (basePrice + customizationPrice) * sizeMultiplier;
}

function updateCart() {
    cartItems.innerHTML = '';
    let total = 0;
    let count = 0;

    if (cart.length === 0) {
        cartItems.innerHTML = `
            <div class="empty-cart">
                <p>Tu carrito estÃ¡ vacÃ­o</p>
                <button class="add-products-btn" onclick="addSampleProducts()">Agregar productos</button>
            </div>
        `;
    } else {
        cart.forEach(item => {
            const itemPrice = calculatePrice(item);
            total += itemPrice * item.quantity;
            count += item.quantity;

            const itemElement = document.createElement('div');
            itemElement.classList.add('cart-item');
            itemElement.innerHTML = `
                <div class="item-details">
                    <span class="item-name">${item.name}</span>
                    <span class="item-price">$${itemPrice.toFixed(2)}</span>
                </div>
                <p>Tipo: ${item.type}</p>
                <p>Talla: ${item.size}</p>
                <p>Color: ${item.color}</p>
                <p>PosiciÃ³n del bordado: ${item.embroideryPosition}</p>
                <p>Personalizaciones: ${item.customizations}</p>
                <div class="item-controls">
                    <div class="quantity-control">
                        <button class="quantity-btn minus" data-id="${item.id}">-</button>
                        <span class="quantity">${item.quantity}</span>
                        <button class="quantity-btn plus" data-id="${item.id}">+</button>
                    </div>
                    <button class="delete-btn" data-id="${item.id}">Eliminar</button>
                </div>
            `;
            cartItems.appendChild(itemElement);
        });
    }

    cartTotal.textContent = `Total: $${total.toFixed(2)}`;
    cartCount.textContent = count;
}

function addSampleProducts() {
    cart = [
        {
            id: 1,
            name: "Camiseta Personalizada",
            type: 'camiseta',
            basePrice: 20,
            customizations: 2,
            size: 'M',
            color: 'Blanco',
            embroideryPosition: 'izquierda',
            quantity: 1
        },
        {
            id: 2,
            name: "Sudadera Logo",
            type: 'sudadera',
            basePrice: 35,
            customizations: 1,
            size: 'L',
            color: 'Negro',
            embroideryPosition: 'centro',
            quantity: 1
        }
    ];
    updateCart();
}

function showDeleteAlert(callback) {
    deleteAlert.style.display = 'block';
    overlay.style.display = 'block';

    confirmDelete.onclick = () => {
        callback(true);
        hideDeleteAlert();
    };

    cancelDelete.onclick = () => {
        callback(false);
        hideDeleteAlert();
    };
}

function hideDeleteAlert() {
    deleteAlert.style.display = 'none';
    overlay.style.display = 'none';
}

cartButton.addEventListener('click', () => {
    cartPanel.classList.add('open');
    overlay.style.display = 'block';
});

closeCart.addEventListener('click', () => {
    cartPanel.classList.remove('open');
    overlay.style.display = 'none';
});

overlay.addEventListener('click', () => {
    cartPanel.classList.remove('open');
    overlay.style.display = 'none';
    hideDeleteAlert();
});

cartItems.addEventListener('click', (e) => {
    if (e.target.classList.contains('quantity-btn')) {
        const id = parseInt(e.target.getAttribute('data-id'));
        const item = cart.find(item => item.id === id);
        if (e.target.classList.contains('plus')) {
            item.quantity++;
        } else if (e.target.classList.contains('minus')) {
            if (item.quantity > 1) {
                item.quantity--;
            } else {
                showDeleteAlert((confirmed) => {
                    if (confirmed) {
                        cart = cart.filter(cartItem => cartItem.id !== id);
                    }
                    updateCart();
                });
                return;
            }
        }
        updateCart();
    } else if (e.target.classList.contains('delete-btn')) {
        const id = parseInt(e.target.getAttribute('data-id'));
        showDeleteAlert((confirmed) => {
            if (confirmed) {
                cart =

cart.filter(item => item.id !== id);
                updateCart();
            }
        });
    }
});

updateCart();
</script>