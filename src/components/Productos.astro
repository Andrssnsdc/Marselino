<section class="container">
    <h3>Elige tu favorito</h3>
    <div class="products">
        <article class="product-card" id="camisetas">
            <div class="product-content">
                <header class="product-header">
                    <h2 class="product-title">CAMISETA</h2>
                    <span class="product-subtitle">Desde $89.000</span>
                </header>
                <p class="product-description">Incluye 1 bordado personalizado</p>
                <div class="product-details">
                    <div class="options-container">
                        <div class="options-column blue">
                            <div class="options-box">
                                <button class="option-button size-button">S</button>
                                <button class="option-button size-button">M</button>
                                <button class="option-button size-button">L</button>
                                <button class="option-button size-button">XL</button>
                                <button class="option-button size-button">XXL</button>
                            </div>
                            <div class="error-message">Selecciona una talla</div>
                        </div>
                        <div class="options-column">
                            <div class="options-box">
                                <button class="option-button color-button" style="background-color: #FF5733;"></button>
                                <button class="option-button color-button" style="background-color: #33FF57;"></button>
                                <button class="option-button color-button" style="background-color: #3357FF;"></button>
                                <button class="option-button color-button" style="background-color: #F3FF33;"></button>
                                <button class="option-button color-button" style="background-color: #FF33F3;"></button>
                            </div>
                            <div class="error-message">Selecciona un color</div>
                        </div>
                        <div class="product-image">
                            <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image%20(61)%20(1)-O2XtQBGgdeFKNG9yJJMDFqQx1umH1g.png" alt="Camiseta">
                        </div>
                    </div>
                </div>
            </div>
            <button class="continue-button">Continuar</button>
        </article>
        <article class="product-card buzos" id="buzos">
            <div class="product-content">
                <header class="product-header">
                    <h2 class="product-title">BUZO</h2>
                    <span class="product-subtitle">Desde $139.000</span>
                </header>
                <p class="product-description">Incluye 1 bordado personalizado</p>
                <div class="product-details">
                    <div class="options-container">
                        <div class="options-column">
                            <div class="options-box red">
                                <button class="option-button size-button">S</button>
                                <button class="option-button size-button">M</button>
                                <button class="option-button size-button">L</button>
                                <button class="option-button size-button">XL</button>
                                <button class="option-button size-button">XXL</button>
                            </div>
                            <div class="error-message">Selecciona una talla</div>
                        </div>
                        <div class="options-column">
                            <div class="options-box">
                                <button class="option-button color-button" style="background-color: #FF5733;"></button>
                                <button class="option-button color-button" style="background-color: #33FF57;"></button>
                                <button class="option-button color-button" style="background-color: #3357FF;"></button>
                                <button class="option-button color-button" style="background-color: #F3FF33;"></button>
                                <button class="option-button color-button" style="background-color: #FF33F3;"></button>
                            </div>
                            <div class="error-message">Selecciona un color</div>
                        </div>
                        <div class="product-image">
                            <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image%20(61)%20(1)-O2XtQBGgdeFKNG9yJJMDFqQx1umH1g.png" alt="Buzo">
                        </div>
                    </div>
                </div>
            </div>
            <button class="continue-button">Continuar</button>
        </article>
    </div>
</section>

<style>
.container { max-width: 75vw; margin: 0 auto; }
.products { display: flex; gap: 20px; height: 350px; }
.product-card {
    flex: 1; background-color: var(--medium-blue); border-radius: 16px; overflow: hidden;
    transition: all 0.5s ease; display: flex; flex-direction: column; position: relative;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
.product-card:hover { transform: translateY(-5px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15); }
.product-card.buzos { background-color: var(--rust-red); }
.product-content {
    padding: 16px; color: var(--white-smoke); flex-grow: 1;
    display: flex; flex-direction: column;
}
.product-header { display: flex; justify-content: space-between; align-items: center; }
.product-title { font-size: 1.25rem; font-weight: bold; margin: 0; }
.product-subtitle { font-size: 0.875rem; }
.product-description { font-size: 0.75rem; margin-top: 8px; }
.product-details { margin-top: 16px; flex-grow: 1; display: flex; flex-direction: column; }
.options-container { display: flex; gap: 16px; margin-bottom: 16px; flex-grow: 1; }
.options-column { flex: 1; }
.options-box {
    background-color: rgba(255, 255, 255, 0.1); border-radius: 25px; padding: 10px;
    transition: background-color 0.3s ease;
}
.option-button {
    display: block; width: 100%; padding: 8px; margin: 4px 0; background-color: transparent;
    border: none; color: var(--white-smoke); text-align: center; cursor: pointer;
    border-radius: 15px; transition: background-color 0.3s ease;
}
.option-button:hover { background-color: rgba(255, 255, 255, 0.3); }
.option-button.selected { background-color: rgba(255, 255, 255, 0.5); font-weight: bold; }
.color-button {
    width: 30px; height: 30px; border-radius: 50%; margin: 4px auto;
    border: 2px solid transparent;
}
.color-button.selected {
    border-color: white; box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.3);
}
.product-image { flex: 2; }
.product-image img { width: 100%; height: auto; border-radius: 8px; }
.continue-button {
    display: block; width: 100%; padding: 12px; background-color: #f2f2f2cb;
    color: var(--dark-gray); border: none; font-weight: bold; cursor: pointer;
    transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px;
    border-radius: 0 0 16px 16px;
}
.continue-button:hover {
    background-color: var(--white-smoke); transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
@keyframes pulse {
    0% { background-color: rgba(255, 0, 0, 0.1); }
    50% { background-color: rgba(255, 0, 0, 0.3); }
    100% { background-color: rgba(255, 0, 0, 0.1); }
}
@media (max-width: 1080px) { .container { max-width: 90vw; } }
@media (max-width: 767px) {
    .container { max-width: 90vw; }
    .products { flex-direction: column; height: auto; }
    .product-card {
        height: 100px; overflow: hidden;
        transition: height 0.3s ease, all 1.2s ease;
    }
    .product-card.expanded { 
        height: 350px;
    }
    .product-details {
        opacity: 0; max-height: 0; overflow: hidden;
        transition: opacity 0.3s ease, max-height 0.3s ease;
    }
    .product-card.expanded .product-details { opacity: 1; max-height: 1000px; }
    .continue-button {
        opacity: 0; max-height: 0; overflow: hidden;
        transition: opacity 0.3s ease, max-height 0.3s ease;
    }
    .product-card.expanded .continue-button { opacity: 1; max-height: 50px; }
}
.error-message {
    color: red; font-size: 0.8rem; margin-top: 5px; display: none;
}
.options-box.error {
    animation: pulse 1s infinite;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const productCards = document.querySelectorAll('.product-card');
    const sizeButtons = document.querySelectorAll('.size-button');
    const colorButtons = document.querySelectorAll('.color-button');
    const continueButtons = document.querySelectorAll('.continue-button');

    function adjustLayout() {
        const isMobile = window.innerWidth < 768;
        productCards.forEach(card => {
            if (isMobile) {
                card.classList.remove('expanded');
                card.style.flex = '1';
            } else {
                card.style.flex = '1';
                card.querySelector('.product-details').style.display = 'flex';
                card.querySelector('.continue-button').style.display = 'block';
            }
        });
    }

    function expandCard(card) {
        const isMobile = window.innerWidth < 768;
        if (isMobile) {
            productCards.forEach(c => c.classList.remove('expanded'));
            card.classList.add('expanded');
        } else {
            productCards.forEach(c => c.style.flex = c === card ? '3' : '1');
        }
    }

    window.addEventListener('resize', adjustLayout);
    adjustLayout();

    productCards.forEach(card => {
        card.addEventListener('click', function() { expandCard(this); });
        card.addEventListener('mouseleave', function() {
            if (window.innerWidth >= 768) { adjustLayout(); }
        });
    });

    function clearError(parent) {
        parent.classList.remove('error');
        parent.nextElementSibling.style.display = 'none';
    }

    sizeButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.stopPropagation();
            const parent = this.closest('.options-box');
            parent.querySelectorAll('.size-button').forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
            clearError(parent);
        });
    });

    colorButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.stopPropagation();
            const parent = this.closest('.options-box');
            parent.querySelectorAll('.color-button').forEach(btn => btn.classList.remove('selected'));
            this.classList.add('selected');
            clearError(parent);
        });
    });

    continueButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.stopPropagation();
            const productCard = this.closest('.product-card');
            const sizeBox = productCard.querySelector('.options-column:nth-child(1) .options-box');
            const colorBox = productCard.querySelector('.options-column:nth-child(2) .options-box');
            const selectedSize = sizeBox.querySelector('.size-button.selected');
            const selectedColor = colorBox.querySelector('.color-button.selected');

            let isValid = true;

            if (!selectedSize) {
                sizeBox.classList.add('error');
                sizeBox.nextElementSibling.style.display = 'block';
                isValid = false;
            } else {
                clearError(sizeBox);
            }

            if (!selectedColor) {
                colorBox.classList.add('error');
                colorBox.nextElementSibling.style.display = 'block';
                isValid = false;
            } else {
                clearError(colorBox);
            }

            if (isValid) {
                const productTitle = productCard.querySelector('.product-title').textContent;
                console.log(`Continuar con ${productTitle} - Talla: ${selectedSize.textContent}, Color: ${selectedColor.style.backgroundColor}`);
            }
        });
    });
});
</script>